个人装修追踪前后端服务需求文档

一、项目概述

1.1 项目定位

本项目是一款面向个人/小家庭的轻量化装修全流程管理工具，覆盖从前期装修公司筛选、合同审核，到设计方案落地、施工进度追踪、费用管控、物料管理，再到最终验收的全周期。通过「基础管理+智能辅助+可视化对比」的核心模式，解决装修过程中信息零散、决策困难、风险难规避、进度/预算失控等痛点，同时提供可选的实时监控能力，降低用户装修管理成本。

1.2 核心价值

- 前期决策辅助：通过装修公司对比、合同智能审核，帮用户规避选择风险；

- 设计落地保障：通过设计图、效果图与实拍图对比，量化还原度，确保装修效果符合预期；

- 全流程管控：实时追踪施工进度、费用花费、物料状态，避免超支、延期；

- 智能风险预警：依托大模型实现预算评估、超支预警、合同风险识别，主动规避问题；

- 可选实时监控：通过接入装修摄像头，实现施工过程透明化，保障施工质量与现场安全。

二、核心目标

1. 打造「前期准备-设计-施工-验收」全流程闭环管理，覆盖个人装修90%以上核心场景；

2. 通过智能化功能（大模型审核、预算评估、还原度分析）降低用户决策门槛，减少装修风险；

3. 保证操作易用性，支持多端（网页端、移动端）快速录入、查询，适配装修场景下的碎片化操作；

4. 实现数据安全隔离与隐私保护，尤其是合同、现场影像等敏感信息；

5. 提供灵活的扩展性，支持后续新增功能（如装修知识问答、施工标准查询）。

三、功能需求

3.1 整体功能架构

按装修全流程分为5大核心模块：前期准备模块、设计管理模块、施工管控模块、验收对比模块、系统基础模块。各模块功能相互关联，数据互通，形成完整管理链路。

3.2 前期准备模块（新增核心模块）

3.2.1 装修公司对比管理

功能描述

支持用户添加多家装修公司信息，通过多维度对比筛选，辅助用户选择合适的装修服务商。

核心功能点

- 装修公司信息录入：支持手动录入或批量导入（Excel），必填字段包括【公司名称、联系人、联系方式、资质等级、服务范围】，可选字段包括【成立年限、案例数量、合作品牌】；

- 对比维度配置：预设核心对比维度，支持用户自定义添加，预设维度如下：


  - 价格维度：报价总额、单价（元/㎡）、付款方式（分期比例、付款节点）、增项加价规则；

  - 工期维度：预计总工期、各阶段工期拆分、延期赔付规则；

  - 评价维度：用户自评（合作满意度）、第三方平台评价截图上传、施工团队口碑；

  - 服务维度：是否含免费设计、售后质保期限（基础工程/主材）、是否提供监理服务；

  - 资质维度：营业执照、施工资质证书上传、是否有不良记录（可关联企查查/天眼查接口，可选）。

- 对比展示：支持表格对比（清晰显示各维度差异）、雷达图对比（直观展示综合实力），支持按单一维度排序（如按价格从低到高）；

- 收藏与筛选：支持收藏意向公司，筛选条件包括【价格区间、工期范围、资质等级、是否含售后】；

- 记录导出：支持将对比列表导出为Excel，便于离线查看。

3.2.2 装修合同智能管理

功能描述

支持用户上传装修合同文件，通过接入大模型对合同内容进行风险识别，辅助用户规避霸王条款、潜在陷阱。

核心功能点

- 合同上传与预览：支持上传PDF、Word、图片格式文件，限制单文件大小≤20MB；支持在线预览合同内容，标记重点段落；

- 大模型智能审核：


  - 风险识别：自动识别合同中的霸王条款（如单方面解约高额违约金、增项无明确定价）、模糊条款（如“优质材料”无具体标准）、风险点（如质保期限过短、付款节点不合理）；

  - 内容解析：提取合同核心信息，生成结构化摘要（包括装修公司信息、合同金额、工期、付款节点、质保范围、双方权责）；

  - 建议输出：针对识别到的风险点，给出具体的修改建议（如“建议明确增项定价标准”）和注意事项（如“需补充材料品牌型号清单作为附件”）；

  - 人工复核：支持用户对审核结果进行标注，反馈误判内容，优化模型识别精度。

- 合同管理：支持对合同进行分类（待审核、已审核、已签署），关联对应装修项目；支持合同文件下载、删除，删除需二次确认；

- 签署提醒：支持设置合同签署截止时间提醒，避免错过合作确认节点。

3.3 设计阶段管理模块（新增核心模块）

设计图-效果图-实拍图对比

功能描述

支持用户按装修空间、施工阶段关联上传设计图、效果图、实拍图，通过可视化对比工具直观查看设计方案落地还原度，辅助施工验收。

核心功能点

- 图片上传与关联：


  - 按维度分类：支持按「空间维度」（客厅、卧室、厨房、卫生间等）和「施工阶段」（水电、泥瓦、木工、油漆、软装等）对图片进行分类；

  - 图片关联：同一空间、同一阶段的设计图、效果图、实拍图自动关联，支持手动调整关联关系；

  - 图片属性录入：上传时可填写备注（如“客厅水电布线设计图”“2024.5.20客厅实拍图”），标记拍摄时间、拍摄人员。

- 多模式对比：


  - 并列对比：支持2-3张图片横向/纵向并列展示，便于直观查看差异；

  - 叠加对比：支持将实拍图与设计图/效果图叠加，调整透明度，查看轮廓、尺寸匹配度；

  - 细节标注：支持在对比界面添加标注，标记差异点（如“此处瓷砖颜色与效果图不一致”）和符合点（如“吊顶造型还原度达标”）。

- 还原度智能评估：


  - 维度拆解：大模型从「色彩匹配度、尺寸比例、材质一致性、造型还原度、软装摆放」5个核心维度进行分析；

  - 评分生成：自动计算单张实拍图相对于设计图/效果图的综合还原度评分（0-100分），各维度分项评分；

  - 差异报告：生成还原度分析报告，列出主要差异点及改进建议（如“建议调整窗帘颜色，与效果图一致”）。

- 历史追溯：按时间线展示同一空间不同阶段的图片对比记录，支持查看还原度变化趋势，辅助评估施工质量。

3.4 施工阶段管理模块（整合原有+新增）

3.4.1 原有核心功能优化

- 进度追踪：保留原有「按阶段拆分（拆改→水电→泥瓦→木工→油漆→安装→软装）」功能，新增关联「图文对比」和「摄像头监控」，支持通过图片/视频佐证进度；进度标记新增「延期预警」，当某阶段进度滞后于计划3天以上时自动提醒；

- 物料管理：保留原有「物料信息录入、状态标记（待采购/已采购/已到货/已使用）」功能，新增关联设计图（标记物料对应设计位置），支持通过大模型推荐适配物料（根据设计风格、预算）；

- 待办提醒：保留原有「添加待办、截止时间提醒」功能，新增关联合同付款节点、验收节点，支持设置重复提醒（如“每周三确认施工进度”）。

3.4.2 智能预算评估与花费预警（新增）

功能描述

依托大模型实现预算的智能生成、动态监控，实时预警超支风险，辅助用户管控装修成本。

核心功能点

- 智能初始预算生成：


  - 用户输入基础信息（户型、面积、装修风格、所在城市、装修档次）后，大模型结合当地建材市场价、人工成本、行业标准，生成结构化初始预算表，拆分至各阶段、各分类（人工/物料/设计/杂费）；

  - 支持预算微调：用户可根据自身需求调整各分类预算占比（如“增加软装预算，减少人工预算”），大模型同步给出调整建议（如“软装预算占比过高，建议控制在总预算的30%以内”）。

- 动态预算监控：


  - 实时同步实际花费：自动关联「费用管理」模块的录入数据，实时计算各分类、各阶段的实际花费与预算的偏差率；

  - 多级别预警：当某分类花费超出预算10%（黄色预警）、20%（红色预警）时，通过系统消息、短信（可选）发出预警；支持自定义预警阈值；

  - 超支原因分析：大模型自动分析超支原因（如“瓷砖采购单价高于预算标准”“人工增项过多”），给出成本控制建议（如“推荐性价比更高的瓷砖品牌”“协商增项定价”）。

- 后续花费预测：根据已完成阶段的花费情况、剩余阶段的工作量，大模型预测后续所需花费总额，判断是否存在整体超支风险，提前给出管控建议；

- 预算报表生成：支持按周/月生成预算执行报表，展示预算、实际花费、偏差率、剩余预算，支持导出Excel或PDF。

3.4.3 装修摄像头接入（可选功能）

功能描述

支持接入主流品牌智能摄像头，实现装修现场的实时监控、录像回放，辅助用户远程监督施工进度与质量。

可行性分析

技术上可行，依托现有智能家居摄像头的开放API（如小米、360、大华等品牌均提供第三方接入能力），通过后端接口对接实现数据互通；成本上可控，用户可复用已有的智能摄像头，无需额外采购专用设备；风险主要在于隐私保护，需通过严格的权限管理和数据加密规避。

核心功能点

- 摄像头添加与管理：支持手动添加摄像头（输入设备ID、接入密钥），支持按施工区域（如“客厅摄像头”“卧室摄像头”）命名；支持查看摄像头在线状态，离线时发出提醒；

- 实时监控：支持在APP/网页端查看摄像头实时画面，支持切换清晰度（标清/高清）、全屏播放；

- 录像回放：支持查看指定时间段（最近7天/30天，根据摄像头存储能力）的录像，支持快进、暂停、下载关键片段；

- 异常提醒：支持设置简单的异常检测规则（如“非施工时间有人闯入”“施工区域出现明火”），触发时通过系统消息提醒用户；

- 隐私保护：

  - 权限管控：仅项目创建者及授权人员可查看摄像头画面，授权需通过验证码确认；

  - 数据加密：录像数据传输过程采用HTTPS加密，存储（若云端存储）采用AES加密；支持用户手动删除录像片段；

  - 施工时间限制：可设置仅施工时间段（如“8:00-18:00”）开启监控，非施工时间自动关闭画面采集。

3.5 验收阶段管理模块

- 验收标准参考：提供各阶段验收标准（如水电验收需检查线路走向、水压测试），支持上传验收规范文档；

- 图文对比验收：通过「设计图-效果图-实拍图」对比结果辅助验收，重点核查还原度不达标区域的整改情况；

- 验收记录：支持录入验收结果（合格/不合格/需整改），上传验收现场照片，标记整改项及整改期限；

- 尾款支付提醒：关联合同付款节点，验收合格后提醒用户支付尾款，不合格则提醒暂缓支付并协商整改。

3.6 系统基础模块（原有功能保留）

- 用户管理：支持手机号+验证码/邮箱+密码登录/注册；支持修改个人信息、密码；支持账号注销（注销前需备份数据）；

- 项目管理：支持创建/编辑/删除装修项目，录入项目基础信息（项目名称、户型、面积、总预算、开始时间、预计结束时间）；支持关联装修公司、合同、摄像头等信息；

- 数据备份与导出：支持项目数据（进度、费用、物料、合同、图片）批量导出为压缩包；支持自动备份（每周一次）和手动备份；

- 系统设置：支持设置消息提醒方式（系统内消息/短信/邮件）；支持清理缓存；支持查看版本更新日志。

四、非功能需求

4.1 易用性需求

- 操作门槛：界面设计简洁直观，核心操作（如上传图片、录入费用）不超过3步；支持新手引导教程（首次使用弹出）；

- 多端适配：支持网页端、移动端（H5/小程序），移动端支持拍照上传、语音录入（如语音记录花费）；

- 响应速度：页面加载时间≤2秒，图片/视频加载支持进度条显示，大模型审核结果返回时间≤30秒（单份合同）。

4.2 性能需求

- 并发支持：支持单用户同时操作3个以上模块（如同时查看进度+上传图片+查询预算），无卡顿；支持≥1000用户同时在线，核心接口响应正常；

- 存储能力：支持单用户存储≤500张图片、≤10个视频（单个视频≤500MB）、≤20份文档，存储扩容支持付费升级；

- 稳定性：系统可用性≥99.5%，核心功能（如进度追踪、费用统计）无崩溃现象；数据定期备份，避免丢失。

4.3 安全性需求

- 数据安全：用户数据（尤其是合同、隐私照片）采用AES加密存储，传输过程采用HTTPS协议；支持数据一键删除，删除后不可恢复；

- 认证安全：登录密码采用加密存储（如bcrypt算法），支持双因素认证（可选，如登录时需验证码+密码）；JWT令牌有效期可配置，支持主动退出登录（令牌失效）；

- 隐私保护：严格遵守《个人信息保护法》，用户数据仅用于自身装修管理，不泄露给第三方；摄像头画面、录像仅用户可查看，无平台后台访问权限。

4.4 兼容性需求

- 浏览器兼容：支持Chrome、Edge、Firefox、Safari最新3个版本，以及国内主流浏览器（如微信浏览器、QQ浏览器）；

- 设备兼容：移动端支持iOS 12.0+、Android 8.0+，不同尺寸屏幕适配正常；

- 文件兼容：支持PDF、Word（doc/docx）、JPG/PNG/BMP图片格式，视频支持MP4/AVI格式。

4.5 可扩展性需求

- 接口预留：预留第三方接口扩展能力（如后续接入装修建材电商平台、智能家居设备更多品牌）；

- 功能迭代：支持新增模块（如装修知识问答、施工团队评价），现有模块可快速调整功能点；

- 多语言支持：预留多语言切换能力（如后续支持英文版本）。

五、技术选型建议

5.1 前端技术栈

- 核心框架：Vue 3（Composition API）+ Vite（构建工具，提升开发效率）；

- UI组件库：Element Plus（PC端）、Vant（移动端/H5）；

- 特色组件：


  - 图片对比：vue-image-comparison-slider（支持并列/叠加对比）；

  - 视频播放：video.js（支持多格式、进度条控制）；

  - 数据可视化：ECharts（预算报表、装修公司对比雷达图、还原度趋势图）；

  - 文件上传：vue-upload-component（支持多格式、断点续传）。

- 多端适配：Uni-app（可选，一套代码生成网页端+小程序+APP）。

5.2 后端技术栈

- 核心框架：Node.js + Express（轻量、开发效率高），或Spring Boot（稳定性强，适合复杂业务扩展）；

- 数据库：


  - 关系型数据库：MySQL（存储用户信息、项目数据、合同摘要、预算数据等结构化数据）；

  - 文件存储：阿里云OSS/腾讯云COS（存储图片、视频、合同文件，支持高可用、扩容）；

  - 缓存：Redis（缓存用户Token、高频访问数据如预算报表，提升响应速度）。

- 大模型对接：


  - 选择：阿里云通义千问/腾讯云混元大模型（国内合规、API调用便捷），或OpenAI GPT-4（需科学上网，语义理解能力强）；

  - 依赖：使用官方SDK（如通义千问java-sdk/node-sdk），实现合同文本提取、风险识别、预算生成等功能。

- 摄像头接入：调用主流摄像头品牌开放API（如小米IoT平台API、360智能硬件API），实现设备绑定、实时画面获取、录像回放；

- 认证授权：JWT（用户身份认证），bcrypt（密码加密）；

- 部署：Docker容器化部署，阿里云轻量应用服务器/腾讯云服务器（低成本），或K8s（高并发场景）。

六、可行性分析总结

6.1 技术可行性

本项目核心技术均基于现有成熟方案：前端多端适配、后端接口开发、数据库存储为常规技术栈；大模型对接可通过调用第三方API实现，无需自研；摄像头接入依托现有智能家居设备开放能力，技术门槛较低。整体技术方案成熟可行，开发周期可控制在3-6个月（视功能优先级分期实现）。

6.2 成本可行性

低成本方案可实现核心功能：服务器（99元/年起）、云存储（按量付费，个人用户月均成本≤50元）、大模型API调用（按次收费，如通义千问调用成本≤0.1元/次合同审核）；无硬件采购成本（摄像头复用用户现有设备）。整体成本可控，适合个人/小团队开发落地。

6.3 风险与应对

- 风险1：大模型审核合同精度不足→应对：前期接入成熟大模型，通过用户反馈优化提示词，建立行业专属语料库微调模型；

- 风险2：摄像头品牌适配不全→应对：优先支持3-5个主流品牌，后续根据用户需求逐步扩展；提供通用RTSP协议接入方案，适配小众品牌；

- 风险3：用户隐私泄露担忧→应对：在产品页面明确隐私保护政策，提供数据加密、手动删除等功能，通过第三方安全认证增强用户信任。

七、功能优先级建议

7.1 一期核心功能（必须实现）

装修公司对比、合同上传与大模型审核、设计图-效果图-实拍图基础对比、进度追踪、费用管理、智能预算评估与预警、用户管理、项目管理；

7.2 二期优化功能（补充实现）

图片对比还原度智能评分、摄像头接入、验收标准参考、数据批量导出与自动备份；

7.3 三期扩展功能（可选实现）

装修知识问答、建材电商平台对接、多语言支持、施工团队评价体系。
